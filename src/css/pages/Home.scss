@use '../_variables' as *; // Importe toutes les variables pour les rendre accessibles


main {
    margin: 0; /* Supprime la marge sans casser la disposition */
}

.box, .messages-box {
    height: calc( 100vh - 40px - 60px); /* Ajuste la hauteur pour ne pas dépasser la fenêtre visible */

}
.box {
    display: flex;
    flex-direction: row; /* Arrange les enfants côte à côte */
    align-items: stretch; /* Étire les enfants pour qu'ils aient la même hauteur */
    // max-width: 1200px; /* Limite la largeur maximale de la box */
    // height: calc( 100vh - 40px - 90px); /* Ajuste la hauteur pour ne pas dépasser la fenêtre visible */
    margin: 0 auto; /* Centre la box horizontalement */
    padding: 0 20px; /* Ajoute un padding de 20px sur les côtés */

    

    .video-container {
        flex: 2; /* Prend 2 parts de l'espace disponible */
        display: flex; /* Active le flexbox pour centrer la vidéo */
        justify-content: center; /* Centre horizontalement */
        align-items: center; /* Centre verticalement */
        width: auto; /* Prend toute la largeur */
        height: 100%; /* Prend toute la hauteur de la box */
        background-color: $black;
        color: $white; /* Change la couleur du texte à blanc */
        z-index: 0;
    }

    .chat-container {
        display: flex; /* Active le flexbox pour ses enfants */
        flex: 1; /* Prend 1 part de l'espace disponible */
        flex-direction: column; /* Empile les enfants verticalement */
        height: calc( 100vh - 40px - 60px); /* Ajuste la hauteur pour ne pas dépasser la fenêtre visible */
        max-width: 100%; /* Limite la largeur à 400px */
        background-color: #1e1e1e; /* Ajoute un fond pour le chat */
        position: relative
    }
}

.message-box {
    display: flex; /* Active Flexbox */
    flex-direction: column; /* Empile les enfants verticalement */
    flex: 1; /* Permet à .message-box de prendre tout l'espace disponible */
    height: 100%; /* Prend toute la hauteur disponible */
    overflow: hidden; /* Empêche le dépassement du contenu */
}

.messages {
    flex: 1; /* Permet à .messages de prendre tout l'espace restant */
    overflow-y: auto; /* Ajoute un défilement vertical si nécessaire */
    height: calc( 100vh - 40px - 140px); /* Ajuste la hauteur pour ne pas dépasser la fenêtre visible */
    max-height: 100%; /* Limite la hauteur au conteneur parent */
}

@media (max-width: 768px) {
    nav {
            position: fixed; /* Fixe la barre de navigation en haut */
            width: 100%;
        }
    .box {
        display: flex;
        flex-direction: column; /* Empile les enfants verticalement */
        flex: 1 1 auto; /* Permet à .box de grandir/rétrécir correctement */
        height: 100vh; /* Prend toute la hauteur */
        margin: 0;
        padding: 0;
        overflow: hidden;
        padding-top: 60px;

        .messages {
            height: calc(100vh - 40px - 60px - 40%); /* Ajuste la hauteur en soustrayant la hauteur du lecteur vidéo (40%) */
            max-height: 100%; /* Limite la hauteur au conteneur parent */
            overflow-y: auto; /* Ajoute un défilement vertical si le contenu dépasse */
        }
        


        .video-container {
            flex: 0 0 40%; /* Hauteur fixe de 40% */
            width: 100%;
        }

        .chat-container {
            flex: 1 1 0; /* Prend tout l'espace restant */
            min-height: 0; /* Nécessaire pour que le flex fonctionne correctement */
            height: auto; /* Laisse Flexbox gérer la hauteur */
            width: 100%;
            overflow-y: auto; /* Ajoute un défilement vertical si nécessaire */
            margin: 0;
            padding: 0;
        }

        .message-box {
            display: flex; /* Active Flexbox */
            flex-direction: column; /* Empile les enfants verticalement */
            flex: 1; /* Permet à .message-box de prendre tout l'espace disponible */
            height: 100%; /* Prend toute la hauteur disponible */
            overflow: hidden; /* Empêche le dépassement du contenu */
        }

        .messages {
            flex: 1; /* Permet à .messages de prendre tout l'espace restant */
            overflow-y: auto; /* Ajoute un défilement vertical si nécessaire */
            border-top: 1px solid $grey--smooth;
        }
    }

    footer {
        display: none !important;
    }
}


